import intro;
import location as loc;
import lifesys;
import patternbase;
import moveloop;
import shootsys;
import unitloop;

function onPluginStart() {
    lifesys.initLifeSys();

    // EUD Editor: disable need of pylon for all buildings
    SetMemory(0x6642EC, Subtract, 524288);
    SetMemory(0x6642FC, Subtract, 524288);
    SetMemory(0x664300, Subtract, 524288);
    SetMemory(0x664308, Subtract, 524288);
    SetMemory(0x66430C, Subtract, 524288);
    SetMemory(0x664310, Subtract, 524288);
    SetMemory(0x664314, Subtract, 524288);
    SetMemory(0x664318, Subtract, 524288);
    SetMemory(0x66431C, Subtract, 524288);
    SetMemory(0x664324, Subtract, 524288);
    SetMemory(0x664328, Subtract, 524288);
    SetMemory(0x66432C, Subtract, 524288);
    SetMemory(0x664330, Subtract, 524288);
}


function afterTriggerExec() {
    SetInvincibility(Enable, '(any unit)', AllPlayers, 'Anywhere');
    SetResources(AllPlayers, SetTo, 5000, Ore);

    patternbase.loopPatterns();
    intro.introLoop();
    lifesys.lifeSysLoop();
    unitloop.unitLoop();
    moveloop.moveLoop();
    shootsys.shootLoop();
}
